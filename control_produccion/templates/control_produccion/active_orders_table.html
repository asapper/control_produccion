{% block active_orders_table %}
{% load active_orders_tags %}
<table class="table table-striped table-bordered table-color table-condensed">
    <thead>
        <tr>
            <th class="cell-rotate"><div>Orden #</div></th>
            <th class="cell-rotate"><div>Cliente</div></th>
            <th class="cell-rotate"><div>Fecha de Entrega</div></th>
            {% for process in process_list %}
            <th class="cell-rotate"><div>{{ process }}</div></th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for order in latest_active_orders_list %}
        <tr>
            <td>{{ order.order_op_number }}</td>
            <td style="width: 20%;">{{ order.order_client }}</td>
            {% if order.is_past_due %}
            <td class="cell-danger" style="width: 10%;">{{ order.order_due_date|date }}</td>
            {% elif order.is_due_today %}
            <td class="cell-info" style="width: 10%;">{{ order.order_due_date|date }}</td>
            {% else %}
            <td style="width: 10%;">{{ order.order_due_date|date }}</td>
            {% endif %}
            {% for process in process_list %}
                {% get_process_in_order order process as process_in_order %}
                {% if process_in_order %}
                    <td
                    {% if not process_in_order.get_is_started %}
                    class="cell-danger"
                    {% elif process_in_order.get_is_started and not process_in_order.get_is_finished %}
                    class="cell-warning"
                    {% elif process_in_order.get_is_finished %}
                    class="cell-success"
                    {% endif %}
                    data-toggle="tooltip" data-placement="left" title="{{ process }}"></td>
                {% else %}
                <td></td>
                {% endif %}
            {% endfor %}
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
